<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:replace="~{include/title.html::title}"></title>

    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/search/search.css}">
    <link rel="stylesheet" th:href="@{/css/header_nav_footer.css}">
    <link rel="stylesheet" th:href="@{/css/user/modal_login_form.css}">
    <script th:replace="~{include/common_js.html::jquery_cdn}" type="text/javascript"></script>
    <script th:replace="~{user/include/login_modal_js.html::js}" type="text/javascript"></script>
    <script th:replace="~{include/search_home_js.html::js}" type="text/javascript"></script>
    <script th:replace="~{include/board_home_js.html::js}" type="text/javascript"></script>
    <script th:replace="~{product/product_home_js.html::js}" type="text/javascript"></script>
</head>

<body>
<header th:replace="~{include/header_nav_footer.html::header}"></header>

<nav th:replace="~{include/header_nav_footer.html::nav}"></nav>

<section>
    <div id="section_wrap">
        <div class="result_wrap">
            <h2 class="result_text"></h2>

            <div class="result_board">
                <div class="result_header">
                    <h2 class="result_title">
                        내 집 이야기
                    </h2>
                    <a class="go_btn" th:if="${boardDtos.size() > 0}" th:href="@{/board(keyword=${keyword})}">더보기</a>
                </div>
                <div class="result_board_area" th:if="${boardDtos.size() > 0}">
                    <div class="board_item_wrap" th:each="item : ${boardDtos}">
                        <div class="board_item">
                            <a class="title" th:href="@{/board/get_board(b_no=${item.b_no})}">
                                <img class="board_img" th:src="'/userBoardThumbnailImg/'+${item.u_id}+'/'+${item.b_thumbnail}" />
                                <p class="board_title" th:text="${item.b_title}"></p>
                                <div class="board_user_info">
                                    <img class="profile_img" th:src="'/userUploadImg/'+${item.u_id}+'/'+${item.u_img}"/>
                                    <span class="user_name" th:text="${item.u_id}"></span>
                                </div>
                            </a>
                        </div>
                        <div class="like_hit_wrap">
                            <a class="like_board_btn" href="#none" th:name="${item.b_no}">
                                <img class="empty_heart" th:src="@{/imgs/empty_heart.png}"/>
                            </a>
                            <span th:class="'2_like_count'+ ${item.b_no}" th:text="${item.b_like}"></span>
                            <div class="hit_area">
                                <img class="hit_img" th:src="@{/imgs/hit.png}"/>
                                <span class="hit_count" th:text="${item.b_hit}"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cannot_result" th:if="${boardDtos.size() <= 0}">
                    검색 결과가 없습니다.
                    <br>
                    <a th:href="@{/board}">내 집 이야기로 이동</a>
                </div>
            </div>

            <div class="result_product">
                <div class="result_header">
                    <h2 class="result_title">
                        인테리어 상품
                    </h2>
                    <a class="go_btn" th:if="${productDtos.size() > 0}" th:href="@{/product(keyword=${keyword})}">더보기</a>
                </div>
                <div class="result_product_area" th:if="${productDtos.size() > 0}">
                    <div th:each="item : ${productDtos}">
                        <a class="product_item_wrap" th:href="${item.p_link}" target="parent">
                            <div class="product_container">
                                <div class="product_img">
                                    <img th:src="${item.p_img}"/>
                                </div>
                                <span class="product_brand" th:text="${item.p_brand}"></span>
                                <p class="product_name" th:text="${item.p_name}"></p>
                            </div>
                        </a>
                        <div class="product_price_area">
                            <div>
                                <span class="product_sales_price_tag">판매가</span>
                                <span class="product_sales_price" th:text="${item.p_sales_price}+'원'"></span>
                            </div>
                        </div>
                        <div class="like_hit_wrap">
                            <a class="like_product_btn" href="#none" th:name="${item.p_no}">
                                <img class="empty_heart" th:src="@{/imgs/empty_heart.png}"/>
                            </a>
                            <span th:class="'1_like_count'+${item.p_no}"  th:text="${item.p_like}"></span>
                            <div class="hit_area">
                                <img class="hit_img" th:src="@{/imgs/hit.png}" />
                                <span class="hit_count" th:text="${item.p_hit}"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cannot_result" th:if="${productDtos.size() <= 0}">
                    검색 결과가 없습니다.
                    <br>
                    <a th:href="@{/product}">인테리어 상품으로 이동</a>
                </div>
            </div>

            <div class="result_youtube">
                <div class="result_header">
                    <h2 class="result_title">
                        추천 유튜브
                    </h2>
                    <a class="go_btn" th:if="${youtubeDtos.size() > 0}" th:href="@{/youtube(keyWord=${keyword})}">더보기</a>
                </div>
                <div class="result_youtube_area" th:if="${youtubeDtos.size() > 0}">
                    <div class="youtube_item" th:each="youtubeDto : ${youtubeDtos}">
                        <iframe
                                width="450"
                                height="200"
                                th:src="'https://www.youtube.com/embed/'+${youtubeDto.y_id}"
                                title="YouTube video player"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                allowfullscreen
                        ></iframe>
                        <div class="youtube_item_detail">
                            <h3 class="youtube_title" th:text="${youtubeDto.y_title}"></h3>
                            <div class="like_channel_wrap">
                                <span class="youtube_channel" th:text="${youtubeDto.y_channel}"></span>
                                <a class="like_youtube_btn" href="#none" th:name="${youtubeDto.y_no}">
                                    <img th:if="${youtubeDto.cnt == 0}" src="/imgs/empty_heart.png" class="empty_heart" />
                                    <img th:unless="${youtubeDto.cnt == 0}" src="/imgs/full_heart.png" class="full_heart" />
                                </a>
                                <span th:class="'3_like_count'+${youtubeDto.y_no}" th:text="${youtubeDto.y_like}"></span>
                            </div>
                            <p th:text="${youtubeDto.y_content}"></p>
                        </div>
                    </div>
                </div>
                <div class="cannot_result" th:if="${youtubeDtos.size() <= 0}">
                    검색 결과가 없습니다.
                    <br>
                    <a th:href="@{/youtube}">추천 영상으로 이동</a>
                </div>
            </div>
        </div>
    </div>
</section>

<div th:replace="~{user/include/login_modal.html::modal}"></div>
<footer th:replace="~{include/header_nav_footer.html::footer}"></footer>
</body>

</html>